3 CLEAR500:T$=CHR$(12)+CHR$(141)+CHR$(130)+"           FUNCTIE ONDERZOEK"+CHR$(1
3)+CHR$(18)+CHR$(18)+CHR$(146)+",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"
6 POKE24758,0:R$=CHR$(129):P$=R$+"   ":Q$=CHR$(133):D=1.1:GOSUB8000
10 DEF FNF(X)=SIN(X):REM                                                        
                                                                                
                                                                                
                  
20 ONERRORGOTO42
40 PRINTT$:Y=FNF(18):IFV2=0THEN215ELSE315
42 IFERR=5ORERR=6ORERR=11THENIFV2=0THENRESUME215ELSERESUME315
45 IF ERL>=220 AND ERL<=250 THEN RESUME50
48 RESUME 410
50 PRINT:IFV1=1THENPRINTCHR$(134)"Fout in functie"
60 PRINT:PRINTR$"Voer de functie in:":V1=1
70 PRINTQ$;:LINEINPUT"f(x)=";F$:LF=LEN(F$):N=26125
80 DATAATN,218,COS,215,EXP,214,SGN,204,SIN,216,SQR,211,TAN,217,LOG,213,INT,205,A
BS,206
90 FORI=1TOLF
100 A=ASC(MID$(F$,I,1)):B=0:IF(A>47ANDA<58)ORA=88ORA=40ORA=41THENB=A
103 IFA=42THENB=191
104 IFA=43THENB=189
105 IFA=45THENB=190
106 IFA=47THENB=192
107 IFA=94THENB=193
115 IFB<>0THEN160
120 IFI>LF-3THEN50
130 A$=MID$(F$,I,3):RESTORE:FORJ=0TO9:READB$,B:IFA$=B$THENI=I+2ELSENEXTJ:GOTO50
160 POKEN,B:N=N+1:NEXTI:POKEN,58:POKEN+1,142:F$="f(x)="+F$:GOTO10
210 PRINTT$
215 PRINT:PRINT:IFV3=1THENPRINTCHR$(134)"Fout in grenzen":V3=0:PRINT
217 PRINTCHR$(131)"<STOP>"R$"voor functie-invoer."
220 PRINTCHR$(131)"     S"R$"voor standaard grenzen.":PRINT:PRINTR$"Domein onder
"Q$;:INPUTDO$
222 DO=VAL(DO$):IFASC(DO$)=83THENDO=-10:DB=10:BO=-10:BB=10:PRINTCHR$(13)CHR$(17)
Q$"Standaardgrenzen.":GOTO290
230 PRINTR$"       boven"Q$;:INPUTDB
240 PRINT:PRINTR$"Bereik onder"Q$;:INPUTBO
250 PRINTR$"       boven"Q$;:INPUTBB
260 IFDO>=DBORBO>=BBTHENV3=1:GOTO210
290 POKE&H60B0,79:FORI=1TO51STEP 2:POKE20480+I*40,19:FORJ=&H5001+I*40TO&H5001+38
+I*40:POKEJ,32:NEXTJ,I:POKE20520,1
300 SX=(DB-DO)/78:AX=SX*2
310 SY=(BB-BO)/69:AY=SY*3
315 ONERRORGOTO999
320 OUT48,39:FORX=DOTODBSTEPSX/D
330 XP=(X-DO)/AX:Y=FNF(X):C=43
340 YP=1+(BB-Y)/AY:C=46:IFY>BBTHEN395
350 IFY<BOTHENC=45:GOTO395
370 P=20521+INT(XP)+INT(YP)*80
380 N=INT((XP-INT(XP))*2)+2*INT((YP-INT(YP))*3)
390 Q=PEEK(P)-32:IFQ>31THENQ=Q-32
392 Q=(QOR2^N)+32:IFQ>63THENQ=Q+32
395 POKEP,Q:L=PEEK(&H6000):IFL<>0THEN410
398 POKEINT(20521+XP),C
400 NEXTX
405 PRINTCHR$(7);
406 L=PEEK(&H6000):IFL=0THEN406
410 OUT48,0:POKE&H60B0,39
440 PRINTT$
445 PRINTCHR$(131)"Df=("STR$(DO)","STR$(DB)")":PRINTCHR$(131)"Bf=("STR$(BO)","ST
R$(BB)")":G$=F$
448 IFLEN(G$)<39THENPRINTCHR$(131)G$ELSEPRINTCHR$(131)LEFT$(G$,38):G$=RIGHT$(G$,
LEN(G$)-38):GOTO448
450 PRINT:PRINT:PRINTR$"Maak Uw keuze:"
453 AS=0:IF0<BBANDBO<0THENAS=1
455 IF-SX<DBANDDO<-SXTHENAS=AS+2






458 IFAS>0THENPRINTP$"A Assenstelsel"
460 PRINTP$"B Beperken          S Stoppen"
470 PRINTP$"F Functie wijzigen  T Terug naar f"
480 PRINTP$"G Grenzen invoeren  V Vergroten"
490 PRINTP$"K Koude start       W Wis scherm"
500 PRINTP$"N Nulpunten"
510 PRINTP$"P Puntendichtheid"
520 PRINTP$"R Raaklijn"
799 POKE&H600C,0
800 L=PEEK(&H6000):IFL=0THEN800
810 POKE&H600C,0:POKE&H6000,0:IFL=15THENV2=1:GOTO60
820 IFL=11THENPRINTCHR$(12):END
830 IFL=13THEN210
850 IFL=37THENOUT48,39:GOTO405
855 IFL<>53THEN890
860 PRINTR$"Aantal plotpunten per pixel":PRINTR$"(Nu:"D" ),wordt:"Q$;:INPUTD:IFD
<=0THENPRINT:PRINTCHR$(134)"Fout in dichtheid":GOTO860
870 GOTO300
890 IFL=34ANDAS>0THEN2000
895 IFL=29ORL=31THEN3000
900 IFL=35THENPRINTCHR$(12):GOTO290
910 IFL=62THENPOKE26119,32:POKE26120,58:POKE26121,142:RUN
920 IFL=39THEN5000
930 IFL=25THEN6000
940 IFL=53THEN7000
998 GOTO799
999 F=ERR:IFF=5THENC=63
1000 IFF=6THENC=94
1010 IFF=11THENC=33
1012 IFERL>6000THENRESUME6100
1015 IFERR=64ANDERL=220THEN60
1016 IFERR=64THEN410
1017 IFERL=5010THENPRINTCHR$(134)"Fout, functiewaarde bestaat niet":RESUME5000
1020 IFC<>46THENRESUME398ELSEEND
2000 OUT48,39:IFAS=2THEN2040
2001 Y=1+BB/AY:H=20520+80*INT(Y):N=2*INT((Y-INT(Y))*3)
2005 FORX=1TO39:P=H+X
2010 Q=PEEK(P)-32:IFQ>31THENQ=Q-32
2012 Q=((QOR2^N)OR2^(N+1))+32:IFQ>63THENQ=Q+32
2020 POKEP,Q:NEXTX
2040 IFAS=1THEN405
2050 X=-DO/AX:H=20521+INT(X)
2060 N=INT((X-INT(X))*2):N2=N+2:N3=N+4
2070 FORY=1TO24:P=H+80*Y
2080 Q=PEEK(P)-32:IFQ>31THENQ=Q-32
2090 Q=(((QOR2^N)OR2^N2)OR2^N3)+32:IFQ>63THENQ=Q+32
2100 POKEP,Q:NEXTY:GOTO405
3000 POKE&H60B0,79:OUT48,39:YB=1:YO=25:XO=41:XB=80
3010 PRINTCHR$(4)CHR$(1)CHR$(41)R$"** Cursortoetsen of <SPC> voor stop **"
3020 A=INP("")-15:IFA<1THEN3020
3025 IFA=17THEN3100
3030 ONAGOTO3050,3070,3080,3060:GOTO3020
3050 IFXO+1<XBTHENXO=XO+1:FORI=YB+1TOYO-1:PRINTCHR$(4)CHR$(I)CHR$(XO)CHR$(127);:
NEXTI
3055 GOTO3020
3060 IFXO+1<XBTHENXB=XB-1:FORI=YB+1TOYO-1:PRINTCHR$(4)CHR$(I)CHR$(XB)CHR$(127);:
NEXTI
3065 GOTO3020
3070 IFYB+1<YOTHENYB=YB+1:PRINTCHR$(4)CHR$(YB)CHR$(XO+1)STRING$(XB-XO-1,127)
3075 GOTO3020
3080 IFYB+1<YOTHENYO=YO-1:PRINTCHR$(4)CHR$(YO)CHR$(XO+1)STRING$(XB-XO-1,127);
3085 GOTO3020
3100 OUT48,0:PRINTCHR$(12):IFL=29THENDO=DO+(XO-41)*AX:DB=DB-(80-XB)*AX:BO=BO+(25
-YO)*AY:BB=BB-(YB-1)*AY:GOTO290
3110 S=(DB-DO)/(XB-XO):DO=DO-S*(XO-41):DB=DB+S*(80-XB):S=(BB-BO)/(YO-YB):BO=BO-S
*(25-YO):BB=BB+S*(YB-1):GOTO290






5000 PRINT:PRINTR$"Raaklijn voor x="Q$;:INPUTX:IFX<DOORX>DBTHENPRINTCHR$(134)"Fo
ut,X niet in domein.":GOTO5000
5010 R=(FNF(X+.0001)-FNF(X))/.0001:B=FNF(X)-R*X:X1=(BO-B)/R:IFX1<DOTHENX1=DO
5020 X2=(BB-B)/R:IFX2<DOTHENX2=DO
5030 IFX1>DBTHENX1=DB
5040 IFX2>DBTHENX2=DB
5050 IFX1=X2THEN440ELSEOUT48,39
5060 IFX1>X2THENSWAPX1,X2
5065 POKE&H60B0,79:A$=CHR$(21)+R$+"Y="+STR$(R)+"X+"+STR$(B):PRINTCHR$(4)CHR$(1)C
HR$(79-LEN(A$))A$
5070 FORX=X1TOX2STEPSX/D:XP=(X-DO)/AX:Y=R*X+B:GOTO340
6000 PRINTT$:PRINT
6005 PRINT:PRINTR$"Hoeveel significante cijfers"Q$;:INPUTG
6007 IFG<1ORG>6THENPRINTCHR$(134)"Fout in nauwkeurigheid":GOTO6005
6010 PRINTT$:PRINT:PRINTR$"De nulpunten zijn:":PRINT:K$="+"+STRING$(LEN(STR$(INT
(BO)))-1,"#")+".#####"
6020 G=10^(-G):FORI=DOTODBSTEPSX/D:IFSGN(FNF(I))=SGN(FNF(I+SX))THEN6100
6025 IFFNF(I)>0THENK=IELSEK=I+SX
6030 R=(FNF(K+.0001)-FNF(K))/.0001:B=FNF(K)-R*K:K=-B/R:IF-G<FNF(K)ANDG>FNF(K)THE
NPRINTR$"f(";:PRINTUSINGK$;K;:PRINT")=";:PRINTUSING"+#.#########";FNF(K)ELSE6030
6100 NEXTI:GOTO405
8000 ON ERROR GOTO 999:PRINTT$:PRINT:PRINTR$"Twee opmerkingen vooraf:":PRINT:PRI
NTP$"1. Als U <STOP> aanslaat gaat U":PRINTP$"   naar het menu, behalve bij het"
:PRINTP$"   invoeren van de grenzen.":PRINT
8010 PRINTP$"2. Tijdens of na het tekenen kunt U":PRINTP$"   met elke toets,ook 
functietoetsen":PRINTP$"   het tekenen onderbreken."
8020 PRINT CHR$(4)CHR$(23)CHR$(20)CHR$(130)"Sla een toets in";:A=INP(""):RETURN
